function QueryStringForAd(e){for(hu=window.location.search.substring(1),gy=hu.split("&"),i=0;i<gy.length;i++)if(ft=gy[i].split("="),ft[0].toLowerCase()==e.toLowerCase())return ft[1];try{if(null!=parent&&null!=parent.window)for(hu=parent.window.location.search.substring(1),gy=hu.split("&"),i=0;i<gy.length;i++)if(ft=gy[i].split("="),ft[0].toLowerCase()==e.toLowerCase())return ft[1]}catch(t){}return""}function CleanSearchKeywords(e){var t=decodeURIComponent(e);return t=t.replace(/#|\"|,|\*|\.|\(|\)|=|\+|<|>|\[|\]|%|;/gi,""),t.length>55&&(t=t.substring(0,55)),t}function GetAdKeywords(){var e="",t=QueryStringForAd("Symbol"),n=GetQuoteCheckupTicker(),r=QueryStringForAd("ntt");return"undefined"!=typeof ibdChartSymbol&&ibdChartSymbol.length>0&&(t=ibdChartSymbol),t.length>0?e=t.toUpperCase():n.length>0?e=n.toUpperCase():r.length>0&&(e=CleanSearchKeywords(r)),e}function GetQuoteCheckupTicker(){var e="",t=window.location.href.toLowerCase();if(t.indexOf("/quotes/")>-1||t.indexOf("/stock-checkup/")>-1){var n=t.lastIndexOf("-");if(n>-1){n+=1;var r=t.indexOf(".htm")>-1?".htm":".aspx";e=t.substr(n,t.indexOf(r)-n)}}try{if(0==e.length&&null!=parent&&null!=parent.window&&(t=parent.window.location.href.toLowerCase(),t.indexOf("/quotes/")>-1||t.indexOf("/stock-checkup/")>-1)){var n=t.lastIndexOf("-");if(n>-1){n+=1;var r=t.indexOf(".htm")>-1?".htm":".aspx";e=t.substr(n,t.indexOf(r)-n)}}}catch(i){}return e}function GetAdVariable(e,t){var n="",r=!("undefined"==typeof t||!t);switch(e){case"trade":"undefined"!=typeof userAdTrade&&userAdTrade.length>0&&(n=(r?"":";")+"trade="+userAdTrade);break;case"time":"undefined"!=typeof userAdTime&&userAdTime.length>0&&(n=(r?"":";")+"time="+userAdTime);break;case"hold":if("undefined"!=typeof userAdHold&&userAdHold.length>0){for(var i=userAdHold.split(","),o=0;o<i.length;o++)if(r){var d=i[o];"funds/etfs"==d&&(d="funds"),n.length>0&&(n+=","),n+=d}else"funds/etfs"==i[o]?n+=";hold=funds":n=n+";hold="+i[o];r&&n.length>0&&(n="hold="+n)}break;case"job":"undefined"!=typeof userAdJob&&userAdJob.length>0&&(n=(r?"":";")+"job="+userAdJob);break;case"age":"undefined"!=typeof userAdAge&&userAdAge.length>0&&(n=(r?"":";")+"age="+userAdAge)}return n}function GetMediaCenterAdURL(){var e="";if("undefined"!=typeof OAS_TranslatePos&&(pos=OAS_TranslatePos("video","")),""!=site&&""!=pos){var t="video";window.location.host.toLowerCase().indexOf("ptest")>-1&&(t="test"),e="https://pubads.g.doubleclick.net/gampad/ads?env=vp&gdfp_req=1&impl=s&output=vast&iu=%2F4824%2F"+site+"%2F"+t+"&sz="+width+"x"+height+"&unviewed_position_start=1&url="+encodeURIComponent(window.location)+"&ciu_szs=728x90&cust_params="+GetMediaCenterCustomParams()+"&correlator="+1e16*Math.random()}return width="",height="",e}function GetArticleMediaCenterAdURL(){var e="",t="";try{parent&&"undefined"!=typeof parent.adIdentifier&&(t=parent.adIdentifier)}catch(n){}if("undefined"!=typeof OAS_TranslatePos&&(pos=OAS_TranslatePos("newsvideo",t)),""!=site&&""!=pos){var r="newsvideo";window.location.host.toLowerCase().indexOf("ptest")>-1&&(r="test"),e="https://pubads.g.doubleclick.net/gampad/ads?env=vp&gdfp_req=1&impl=s&output=vast&iu=%2F4824%2F"+site+"&sz="+width+"x"+height+"&unviewed_position_start=1&url="+encodeURIComponent(window.location)+"&ciu_szs=&cust_params="+GetMediaCenterCustomParams()+"&correlator="+1e16*Math.random()}return width="",height="",e}function GetMediaCenterCustomParams(){var e="",t="undefined"!=typeof userSubType?userSubType:"0";t="sub="+t;var n=GetAdVariable("trade",!0),r=GetAdVariable("time",!0),i=GetAdVariable("hold",!0),o=GetAdVariable("job",!0),d=GetAdVariable("age",!0);return e=t,n.length>0&&(e+="&"+n),r.length>0&&(e+="&"+r),i.length>0&&(e+="&"+i),o.length>0&&(e+="&"+o),d.length>0&&(e+="&"+d),e.replace(/=/g,"%3D").replace(/&/g,"%26").replace(/,/g,"%2C")}function GetMediaCenterCompanionAdSlot(){"undefined"!=typeof OAS_TranslatePos&&(pos=OAS_TranslatePos("leader",""));var e={Slot:"",Width:728,Height:90};return""!=site&&""!=pos&&(e.Slot="/4824/"+site+"/leader",e.Width=+width,e.Height=+height),width="",height="",e}var width="",height="",site="",section="",displaySponsorshipText=!1;window.dfptag=window.dfptag||{},window.dfptag.cmd=window.dfptag.cmd||[];//# sourceMappingURL=dfpHelper.js.map
